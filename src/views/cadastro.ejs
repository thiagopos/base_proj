<%- include('./partials/head.ejs') %>
    <h2>Cadastro de Usuário</h2>

    <form action="/cadastro" method="post" onsubmit="return validarFormulario()">
      <label for="login_sms">Login:</label>
      <input type="text" id="login_sms" name="login_sms" required maxlength="7" /><br />

      <label for="nome_completo">Nome Completo:</label>
      <input type="text" id="nome_completo" name="nome_completo" required maxlength="100" /><br />

      <label for="doc_cpf">CPF:</label>
      <input type="text" id="doc_cpf" name="doc_cpf" required maxlength="14" /><br />

      <label for="id_tipo_cargo">Atividade:</label>
      <select id="id_tipo_cargo" name="id_tipo_cargo">
        <% tiposCargos.forEach(function(tipoCargo) { %>
        <option value="<%= tipoCargo.id_tipo_cargo %>"><%= tipoCargo.desc_cargo %></option>
        <% }); %></select
      ><br />

      <label for="doc_profissional">Documento Profissional:</label>
      <input type="text" id="doc_profissional" name="doc_profissional" maxlength="15" /><br />

      <label for="email">E-mail:</label>
      <input type="email" id="email" name="email" required maxlength="100" /><br />

      <label for="contato">Contato:</label>
      <input type="text" id="contato" name="contato" maxlength="15" /><br />

      <label for="id_tipo_usuario">Tipo de Usuário:</label>
      <select id="id_tipo_usuario" name="id_tipo_usuario">
        <% tiposUsuarios.forEach(function(tipoUsuario) { %>
        <option value="<%= tipoUsuario.id_tipo_usuario %>"><%= tipoUsuario.desc_usuario %></option>
        <% }); %></select
      ><br />

      <label for="senha">Senha:</label>
      <input type="password" id="senha" name="senha" required maxlength="100" /><br />

      <label for="confirmar_senha">Confirmar Senha:</label>
      <input type="password" id="confirmar_senha" name="confirmar_senha" required maxlength="100" /><br />

      <button type="submit">Cadastrar</button>
    </form>

    <script>
      function validarFormulario() {
        const senha = document.querySelector("#senha").value;
        const confirmarSenha = document.querySelector("#confirmar_senha").value;

        if (senha !== confirmarSenha) {
          alert("As senhas não coincidem. Por favor, digite novamente.");
          return false;
        }

        return true;
      }
    </script>
<%- include('./partials/footer.ejs') %>
